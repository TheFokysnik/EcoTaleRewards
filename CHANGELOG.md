# EcoTaleRewards — Changelog

## v1.2.0 — 2026-02-21

### Новое
- **Редизайн отображения предметов в календаре** — вместо одной тесной строки с 2 иконками и обрезанным текстом теперь каждый предмет показывается в отдельном ряду (Item1 / Item2) с иконкой 20×20 и названием.
- **Команда `/calendar`** — открывает календарь наград напрямую из чата.
- **Команда `/calendar admin`** — открывает админ-панель наград.
- **Динамические фоны ячеек** — цвет фона каждого дня меняется в зависимости от статуса (получено / доступно / пропущено / заблокировано). Milestone-дни (7, 14, 21, 28, 30) получают усиленный акцент.

### Изменения
- Иконки предметов уменьшены с 24×24 до 20×20 для лучшей компоновки.
- `formatSingleItem()` — новый метод для форматирования одного предмета.
- `formatItemsShort()` переписан поверх `formatSingleItem()`.
- При 3+ предметах во второй строке показывается `+N`.

### Исправления
- **Исправлен UUID→имя** — теперь используется `PlayerRef.getUsername()` с fallback на `Player.getDisplayName()`.
- Исправлен краш «Failed to load CustomUI documents» из-за неподдерживаемого свойства `Margin`.

---

## v1.1.5 — 2026-02-17

### Новое
- **Абстракция провайдера экономики** — интерфейс `EconomyProvider` + `EconomyBridge` с автодетектом.
- Поддержка `ecotale` и `economyapi` провайдеров.
- **Admin-панель** — полный редактор настроек наград, дней, множителей.
- VIP-множители (streak × VIP).
- Milestone-бонусы (день 7, 14, 21, 28, 30).

### Изменения
- LuckPerms — опциональная зависимость для проверки прав.
